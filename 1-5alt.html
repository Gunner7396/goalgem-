<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Analiz Motoru | Fotmob Style</title>
    <style>
        :root {
            --fotmob-bg: #121212;
            --fotmob-card: #1c1c1e;
            --fotmob-input: #2c2c2e;
            --fotmob-accent: #00ff85; /* Fotmob yeşili */
            --fotmob-text: #ffffff;
            --fotmob-secondary: #8e8e93;
            --fotmob-border: #3a3a3c;
        }
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            background-color: var(--fotmob-bg);
            color: var(--fotmob-text);
            margin: 0;
            padding: 16px;
            display: flex;
            justify-content: center;
        }
        .app-container {
            width: 100%;
            max-width: 450px;
        }
        .header {
            text-align: left;
            padding: 20px 0;
            border-bottom: 1px solid var(--fotmob-border);
            margin-bottom: 24px;
        }
        .header h1 { font-size: 24px; font-weight: 700; margin: 0; }
        .header p { color: var(--fotmob-secondary); font-size: 14px; margin-top: 4px; }

        .card {
            background: var(--fotmob-card);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 16px;
            border: 1px solid var(--fotmob-border);
        }

        .input-group { margin-bottom: 20px; }
        label { 
            display: block; 
            font-size: 12px; 
            text-transform: uppercase; 
            font-weight: 600; 
            color: var(--fotmob-secondary);
            margin-bottom: 8px;
            letter-spacing: 0.5px;
        }
        select, input {
            width: 100%;
            padding: 14px;
            border-radius: 8px;
            border: 1px solid var(--fotmob-border);
            background: var(--fotmob-input);
            color: white;
            font-size: 16px;
            outline: none;
            box-sizing: border-box;
            transition: border-color 0.2s;
        }
        select:focus, input:focus { border-color: var(--fotmob-accent); }

        button {
            width: 100%;
            padding: 16px;
            background: var(--fotmob-accent);
            border: none;
            border-radius: 8px;
            color: #000;
            font-weight: 700;
            font-size: 16px;
            cursor: pointer;
            transition: transform 0.1s;
        }
        button:active { transform: scale(0.98); }

        #result-container {
            display: none;
            margin-top: 24px;
            animation: fadeIn 0.4s ease;
        }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        .res-header { text-align: center; margin-bottom: 15px; }
        .percentage-circle {
            width: 100px;
            height: 100px;
            border-radius: 50%;
            border: 6px solid var(--fotmob-accent);
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 15px;
            font-size: 28px;
            font-weight: 800;
        }
        .status-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        .reason-item {
            background: rgba(255,255,255,0.05);
            padding: 10px;
            border-radius: 6px;
            font-size: 13px;
            margin-bottom: 8px;
            color: #ccc;
            border-left: 3px solid var(--fotmob-accent);
        }
    </style>
</head>
<body>

<div class="app-container">
    <div class="header">
        <h1>Tahmin Motoru</h1>
        <p>1.5 Alt Stratejik Analiz Sistemi</p>
    </div>

    <div class="card">
        <div class="input-group">
            <label>Lig</label>
            <select id="league">
                <option value="italya">Serie A (İtalya)</option>
                <option value="ispanya">La Liga (İspanya)</option>
                <option value="almanya">Bundesliga (Almanya)</option>
                <option value="ingiltere">Premier Lig (İngiltere)</option>
                <option value="fransa">Ligue 1 (Fransa)</option>
            </select>
        </div>

        <div class="input-group">
            <label>npxG / Sh (En Yüksek Takım)</label>
            <input type="number" id="npxg" step="0.01" placeholder="0.08">
        </div>

        <div class="input-group">
            <label>Toplam PPA</label>
            <input type="number" id="ppa" placeholder="10">
        </div>

        <div class="input-group">
            <label>Toplam PrgC</label>
            <input type="number" id="prgc" placeholder="12">
        </div>

        <div class="input-group">
            <label>Toplam Def 3rd Tkl+Int</label>
            <input type="number" id="tkl" placeholder="35">
        </div>

        <button onclick="analyzeMatch()">ANALİZİ BAŞLAT</button>
    </div>

    <div id="result-container" class="card">
        <div class="res-header">
            <div id="status" class="status-badge"></div>
            <div class="percentage-circle" id="percDisplay">0%</div>
            <div id="summary" style="font-weight: 600; font-size: 18px;"></div>
        </div>
        <div id="reasons"></div>
    </div>
</div>

<script>
function analyzeMatch() {
    const lg = document.getElementById('league').value;
    const npxg = parseFloat(document.getElementById('npxg').value);
    const ppa = parseFloat(document.getElementById('ppa').value);
    const prgc = parseFloat(document.getElementById('prgc').value);
    const tkl = parseFloat(document.getElementById('tkl').value);

    if(isNaN(npxg) || isNaN(ppa)) { alert("Lütfen tüm verileri girin."); return; }

    const thresholds = {
        italya: { npxg: 0.08, ppa: 10, prgc: 12, tkl: 40 },
        ispanya: { npxg: 0.09, ppa: 12, prgc: 10, tkl: 35 },
        almanya: { npxg: 0.10, ppa: 14, prgc: 15, tkl: 30 },
        ingiltere: { npxg: 0.09, ppa: 13, prgc: 18, tkl: 32 },
        fransa: { npxg: 0.09, ppa: 11, prgc: 14, tkl: 38 }
    };

    const t = thresholds[lg];
    let score = 55; 
    let analysisNotes = [];

    // npxG/Sh Veto & Bonus
    if (npxg <= t.npxg) { score += 12; } else { score -= 25; analysisNotes.push("Hücum bitiricilik kalitesi lig ortalamasının üstünde."); }

    // PPA Control
    if (ppa <= t.ppa) { score += 10; } else { score -= 15; analysisNotes.push("Top ceza sahasına çok sık giriyor."); }

    // PrgC Control
    if (prgc <= t.prgc) { score += 8; } else { score -= 8; analysisNotes.push("Dikey topla kat etme oranı yüksek."); }

    // Tkl+Int Intelligence (Zeka Katmanı)
    if (tkl >= t.tkl) {
        score += 10;
        analysisNotes.push("Savunma bloğu oldukça aktif ve yerleşik.");
    } else if (ppa < (t.ppa * 0.75)) {
        score += 7; 
        analysisNotes.push("Savunma hamlesi az ancak rakip kale önüne gelemiyor (Kilitlenmiş Oyun).");
    } else {
        score -= 12;
        analysisNotes.push("Savunma müdahale yoğunluğu tehlikeli seviyede düşük.");
    }

    if (score > 94) score = 94;
    if (score < 15) score = 15;

    document.getElementById('result-container').style.display = 'block';
    document.getElementById('percDisplay').innerText = '%' + score;
    
    const status = document.getElementById('status');
    const summary = document.getElementById('summary');
    const reasonsDiv = document.getElementById('reasons');
    reasonsDiv.innerHTML = "";

    if (score >= 80) {
        status.style.background = "#00ff85"; status.style.color = "#000"; status.innerText = "YÜKSEK GÜVEN";
        summary.innerText = "Kilitli Maç Senaryosu";
    } else if (score >= 65) {
        status.style.background = "#eab308"; status.style.color = "#000"; status.innerText = "ORTA RİSK";
        summary.innerText = "İstatistiksel Sınırda";
    } else {
        status.style.background = "#ef4444"; status.style.color = "#fff"; status.innerText = "ZAYIF İHTİMAL";
        summary.innerText = "Açık Oyun Riski";
    }

    analysisNotes.forEach(note => {
        let div = document.createElement('div');
        div.className = "reason-item";
        div.innerText = note;
        reasonsDiv.appendChild(div);
    });

    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
}
</script>
</body>
</html>

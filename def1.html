<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>VELOCITY SCOUT v13.5</title>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@400;600;900&family=JetBrains+Mono:wght@700&display=swap" rel="stylesheet">
    <style>
        :root { 
            --bg: #05070a; --card: #0f1216; --accent: #ff00ff; --border: #1e2530; 
            --text: #f0f3f5; --dim: #8a99af; --l-color: #ff00ff; --success: #00ffa3;
        }
        *:focus { outline: none !important; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; font-family: 'Outfit', sans-serif; }
        
        body { background: var(--bg); color: var(--text); margin: 0; padding: 10px; min-height: 100vh; }
        .wrapper { width: 100%; max-width: 380px; margin: 0 auto; }
        
        .header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .header h1 { font-size: 18px; font-weight: 900; color: var(--l-color); margin: 0; }
        
        .dash { display: grid; grid-template-columns: repeat(3, 1fr); gap: 8px; margin-bottom: 12px; }
        .stat-box { background: var(--card); border: 1px solid var(--border); border-radius: 10px; padding: 6px; text-align: center; }
        .st-v { font-family: 'JetBrains Mono'; font-size: 14px; font-weight: 700; color: #fff; }
        .st-l { font-size: 7px; color: var(--dim); text-transform: uppercase; display: block; }

        .engine { background: var(--card); border-radius: 15px; padding: 12px; border: 1px solid var(--border); margin-bottom: 15px; }
        .row-label { font-size: 10px; font-weight: 900; color: var(--l-color); margin-bottom: 8px; display: flex; align-items: center; gap: 6px; }
        .row-label::after { content: ""; flex: 1; height: 1px; background: linear-gradient(90deg, var(--border), transparent); }
        
        /* Team ID Input */
        .id-unit { background: rgba(255,255,255,0.03); border: 1px solid var(--border); border-radius: 8px; padding: 10px; margin-bottom: 12px; border-left: 3px solid var(--l-color); }
        .id-input { width: 100%; background: transparent; border: none; color: #fff; font-weight: 900; font-size: 15px; text-transform: uppercase; cursor: pointer; }

        .input-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 10px; }
        .unit { background: rgba(0,0,0,0.2); border: 1px solid var(--border); border-radius: 6px; padding: 6px 10px; }
        .u-label { font-size: 7px; color: var(--dim); font-weight: 800; display: block; }
        .u-input { width: 100%; background: transparent; border: none; color: #fff; font-family: 'JetBrains Mono'; font-size: 15px; font-weight: 700; }
        
        .scan-btn { width: 100%; background: var(--l-color); color: #000; border: none; padding: 14px; border-radius: 10px; font-weight: 900; font-size: 14px; cursor: pointer; }

        .report-card { 
            background: #111418; border: 1px solid var(--border); border-radius: 12px; 
            padding: 10px 12px; margin-top: 10px; display: grid; grid-template-columns: 45px 1fr 80px; align-items: center; gap: 12px;
            border-left: 3px solid var(--l-color);
        }
        .rep-score { height: 40px; width: 40px; border-radius: 8px; border: 2px solid var(--border); display: flex; align-items: center; justify-content: center; font-family: 'JetBrains Mono'; font-size: 14px; font-weight: 700; color: var(--l-color); }
        .team-name { font-size: 13px; font-weight: 900; color: #fff; margin: 0; text-transform: uppercase; }
        .mini-btn { flex: 1; background: #1a1f26; border: 1px solid var(--border); font-size: 14px; padding: 8px 0; border-radius: 6px; cursor: pointer; }

        .archive-section { margin-top: 25px; border-top: 2px solid var(--border); padding-top: 15px; }
        .archive-item { background: #0d1117; border: 1px solid var(--border); padding: 8px 12px; border-radius: 10px; margin-bottom: 6px; display: flex; justify-content: space-between; align-items: center; }
        
        .theme-eng { --l-color: #ff00ff; }
        .theme-esp { --l-color: #ff4b4b; }
        .theme-ita { --l-color: #0066ff; }
        .theme-ger { --l-color: #d3010c; }
        .theme-fra { --l-color: #daff00; }
    </style>
</head>
<body class="theme-eng">

<div class="wrapper">
    <div class="header">
        <h1>VELOCITY SCOUT</h1>
        <div style="font-size: 7px; color: var(--dim);" onclick="clearAll()">DATABASE RESET</div>
    </div>

    <div class="dash">
        <div class="stat-box"><span class="st-v" id="st-total">0</span><span class="st-l">Analiz</span></div>
        <div class="stat-box"><span class="st-v" id="st-rate">%0</span><span class="st-l">Başarı</span></div>
        <div class="stat-box"><span class="st-v" id="st-hit">0</span><span class="st-l">Arşiv</span></div>
    </div>

    <div class="engine">
        <select id="league-select" onchange="updateTeams()" style="width:100%; background:none; border:none; color:#fff; font-weight:700; margin-bottom:12px; font-size: 13px; cursor:pointer;">
            <option value="ENG">PREMIER LEAGUE (İNG)</option>
            <option value="ESP">LA LIGA (İSP)</option>
            <option value="ITA">SERIE A (İTA)</option>
            <option value="GER">BUNDESLIGA (ALM)</option>
            <option value="FRA">LIGUE 1 (FRA)</option>
        </select>

        <div class="id-unit">
            <span class="u-label">TAKIM SEÇİMİ</span>
            <input list="team-list" id="v-team" class="id-input" placeholder="TAKIM SEÇİN VEYA YAZIN">
            <datalist id="team-list"></datalist>
        </div>

        <div class="row-label">DEF (A)</div>
        <div class="input-grid">
            <div class="unit"><span class="u-label">Save%</span><input type="number" id="v-save" class="u-input"></div>
            <div class="unit"><span class="u-label">PPA</span><input type="number" id="v-ppa-a" class="u-input"></div>
        </div>
        <div class="row-label">OFF</div>
        <div class="input-grid">
            <div class="unit"><span class="u-label">PPA</span><input type="number" id="v-ppa-f" class="u-input"></div>
            <div class="unit"><span class="u-label">npxG/Sh</span><input type="number" id="v-npx" class="u-input" step="0.01"></div>
        </div>
        <button class="scan-btn" onclick="analyze()">BAŞLAT</button>
    </div>

    <div id="feed"></div>

    <div class="archive-section">
        <h2 style="font-size: 10px; color: var(--success); margin:0 0 10px 0;">✅ BAŞARILI ARŞİV</h2>
        <div id="archive-list"></div>
    </div>
</div>

<script>
    const leagueTeams = {
        ENG: ["Arsenal", "Aston Villa", "Bournemouth", "Brentford", "Brighton", "Chelsea", "Crystal Palace", "Everton", "Fullham", "Ipswich Town", "Leicester City", "Liverpool", "Man City", "Man Utd", "Newcastle", "Nottm Forest", "Southampton", "Tottenham", "West Ham", "Wolves"],
        ESP: ["Alaves", "Athletic Bilbao", "Atletico Madrid", "Barcelona", "Celta Vigo", "Espanyol", "Getafe", "Girona", "Las Palmas", "Leganes", "Mallorca", "Osasuna", "Rayo Vallecano", "Real Betis", "Real Madrid", "Real Sociedad", "Sevilla", "Valencia", "Valladolid", "Villarreal"],
        ITA: ["Atalanta", "Bologna", "Cagliari", "Como", "Empoli", "Fiorentina", "Genoa", "Inter", "Juventus", "Lazio", "Lecce", "Milan", "Monza", "Napoli", "Parma", "Roma", "Torino", "Udinese", "Venezia", "Verona"],
        GER: ["Augsburg", "Bayer Leverkusen", "Bayern Munich", "Bochum", "Dortmund", "E. Frankfurt", "FC Heidenheim", "FC St. Pauli", "Freiburg", "Holstein Kiel", "Mainz 05", "M'gladbach", "RB Leipzig", "SC Freiburg", "Stuttgart", "Union Berlin", "Werder Bremen", "Wolfsburg"],
        FRA: ["Angers", "Auxerre", "Brest", "Le Havre", "Lens", "Lille", "Lyon", "Marseille", "Monaco", "Montpellier", "Nantes", "Nice", "PSG", "Reims", "Rennes", "St-Etienne", "Strasbourg", "Toulouse"]
    };

    let stats = JSON.parse(localStorage.getItem('v135_stats')) || { total: 0, wins: 0 };
    let archive = JSON.parse(localStorage.getItem('v135_archive')) || [];

    function updateTeams() {
        const l = document.getElementById('league-select').value;
        document.body.className = 'theme-' + l.toLowerCase();
        const list = document.getElementById('team-list');
        list.innerHTML = leagueTeams[l].map(t => `<option value="${t}">`).join('');
        document.getElementById('v-team').value = "";
    }

    function analyze() {
        const team = document.getElementById('v-team').value || 'BİLİNMEYEN';
        const l = document.getElementById('league-select').value;
        const d = {
            save: parseFloat(document.getElementById('v-save').value || 0),
            ppaA: parseFloat(document.getElementById('v-ppa-a').value || 0),
            npx: parseFloat(document.getElementById('v-npx').value || 0)
        };
        if(!d.save || !d.ppaA) return;

        const match = Math.floor(Math.random() * 20) + 75; 
        const signal = Math.floor(match * (d.npx > 0.12 ? 1.1 : 0.9));
        const id = Date.now();

        const card = document.createElement('div');
        card.className = `report-card`;
        card.id = `rep-${id}`;
        card.innerHTML = `
            <div class="rep-score">${match}%</div>
            <div class="rep-info">
                <p class="team-name">${team}</p>
                <p style="font-size:10px; color:var(--dim);">%${signal} UYUM</p>
            </div>
            <div class="rep-actions">
                <button class="mini-btn" onclick="moveToArchive('${id}', '${team}', '${l}', ${match}, ${signal})">✅</button>
                <button class="mini-btn" onclick="removeCard('${id}')">❌</button>
            </div>
        `;
        document.getElementById('feed').prepend(card);
    }

    function moveToArchive(id, team, league, match, signal) {
        archive.unshift({ id, team, league, match, signal, date: new Date().toLocaleDateString('tr-TR') });
        stats.total++; stats.wins++;
        saveAndRefresh(); removeCard(id);
    }

    function removeCard(id) { document.getElementById(`rep-${id}`).remove(); }
    function saveAndRefresh() {
        localStorage.setItem('v135_stats', JSON.stringify(stats));
        localStorage.setItem('v135_archive', JSON.stringify(archive));
        renderArchive(); updateUI();
    }

    function renderArchive() {
        document.getElementById('archive-list').innerHTML = archive.map(item => `
            <div class="archive-item">
                <div><span style="font-size:11px; font-weight:900; color:var(--success);">${item.team}</span><br>
                <span style="font-size:9px; color:var(--dim);">${item.league} • %${item.signal}</span></div>
                <span style="font-size:8px; color:var(--dim);">${item.date}</span>
            </div>
        `).join('');
    }

    function updateUI() {
        document.getElementById('st-total').innerText = stats.total;
        document.getElementById('st-hit').innerText = archive.length;
        const rate = stats.total === 0 ? 0 : Math.round((stats.wins / stats.total) * 100);
        document.getElementById('st-rate').innerText = '%' + rate;
    }

    function clearAll() { if(confirm("Database silinsin mi?")) { localStorage.clear(); location.reload(); } }

    window.onload = () => { updateTeams(); renderArchive(); updateUI(); };
</script>
</body>
</html>

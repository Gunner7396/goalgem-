<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Analiz Motoru v2.0 - 10 Metrik</title>
    <style>
        :root { --primary: #1a1a2e; --accent: #e94560; --success: #0f3460; --bg: #16213e; --text: #e94560; }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); color: #fff; margin: 0; padding: 20px; }
        .container { max-width: 1300px; margin: auto; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .card { background: var(--primary); padding: 20px; border-radius: 15px; border: 1px solid #16213e; }
        h2 { border-bottom: 2px solid var(--accent); padding-bottom: 10px; color: #fff; text-align: center; }
        .metric-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; }
        .metric-group { background: #16213e; padding: 10px; border-radius: 8px; }
        .metric-label { display: flex; justify-content: space-between; font-weight: bold; font-size: 12px; color: #aaa; }
        .val { color: var(--accent); font-size: 14px; }
        input[type="range"] { width: 100%; cursor: pointer; accent-color: var(--accent); }
        .controls { grid-column: 1 / -1; text-align: center; margin: 30px 0; }
        button { padding: 15px 40px; border: none; border-radius: 30px; cursor: pointer; font-weight: bold; font-size: 16px; transition: 0.3s; margin: 0 10px; }
        .btn-analyze { background: var(--accent); color: white; box-shadow: 0 4px 15px rgba(233, 69, 96, 0.4); }
        .btn-reset { background: #4e4e4e; color: white; }
        .result-panel { grid-column: 1 / -1; background: #0f3460; padding: 30px; border-radius: 20px; text-align: center; border: 2px solid var(--accent); display: none; }
        .coach-box { margin-top: 20px; padding: 15px; background: rgba(0,0,0,0.3); border-left: 5px solid var(--accent); text-align: left; line-height: 1.6; }
        .history-section { grid-column: 1 / -1; margin-top: 30px; }
        table { width: 100%; border-collapse: collapse; background: var(--primary); border-radius: 10px; overflow: hidden; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #16213e; }
        th { background: #0f3460; color: var(--accent); }
    </style>
</head>
<body>

<h1 style="text-align:center; margin-bottom: 30px;">âš½ STRATEJÄ°K ANALÄ°Z MOTORU <small>v2.0</small></h1>

<div class="container">
    <div class="card">
        <h2>ğŸ  EV SAHÄ°BÄ°</h2>
        <input type="text" id="h-name" placeholder="TakÄ±m AdÄ±" style="width:96%; padding:10px; margin-bottom:20px; border-radius:5px; border:none;">
        
        <div class="metric-grid">
            <div class="metric-group"><div class="metric-label">npxG <span class="val" id="h-v1">1.5</span></div><input type="range" id="h-npxG" min="0" max="4" step="0.1" value="1.5"></div>
            <div class="metric-group"><div class="metric-label">SCA <span class="val" id="h-v2">15</span></div><input type="range" id="h-SCA" min="0" max="40" value="15"></div>
            <div class="metric-group"><div class="metric-label">BOX <span class="val" id="h-v3">20</span></div><input type="range" id="h-BOX" min="0" max="50" value="20"></div>
            <div class="metric-group"><div class="metric-label">Field Tilt % <span class="val" id="h-v4">50</span></div><input type="range" id="h-Tilt" min="0" max="100" value="50"></div>
            <div class="metric-group"><div class="metric-label">ProgP <span class="val" id="h-v5">35</span></div><input type="range" id="h-ProgP" min="0" max="80" value="35"></div>
            <div class="metric-group"><div class="metric-label">npxGA <span class="val" id="h-v6">1.2</span></div><input type="range" id="h-npxGA" min="0" max="4" step="0.1" value="1.2"></div>
            <div class="metric-group"><div class="metric-label">PPDA <span class="val" id="h-v7">12.0</span></div><input type="range" id="h-PPDA" min="5" max="25" step="0.5" value="12"></div>
            <div class="metric-group"><div class="metric-label">OPP.B <span class="val" id="h-v8">10</span></div><input type="range" id="h-OPPB" min="0" max="40" value="10"></div>
            <div class="metric-group"><div class="metric-label">Deep A. <span class="val" id="h-v9">5</span></div><input type="range" id="h-DeepA" min="0" max="20" value="5"></div>
            <div class="metric-group"><div class="metric-label">Interceptions <span class="val" id="h-v10">15</span></div><input type="range" id="h-Int" min="0" max="40" value="15"></div>
        </div>
    </div>

    <div class="card">
        <h2>âœˆï¸ DEPLASMAN</h2>
        <input type="text" id="a-name" placeholder="TakÄ±m AdÄ±" style="width:96%; padding:10px; margin-bottom:20px; border-radius:5px; border:none;">
        
        <div class="metric-grid">
            <div class="metric-group"><div class="metric-label">npxG <span class="val" id="a-v1">1.5</span></div><input type="range" id="a-npxG" min="0" max="4" step="0.1" value="1.5"></div>
            <div class="metric-group"><div class="metric-label">SCA <span class="val" id="a-v2">15</span></div><input type="range" id="a-SCA" min="0" max="40" value="15"></div>
            <div class="metric-group"><div class="metric-label">BOX <span class="val" id="a-v3">20</span></div><input type="range" id="a-BOX" min="0" max="50" value="20"></div>
            <div class="metric-group"><div class="metric-label">Field Tilt % <span class="val" id="a-v4">50</span></div><input type="range" id="a-Tilt" min="0" max="100" value="50"></div>
            <div class="metric-group"><div class="metric-label">ProgP <span class="val" id="a-v5">35</span></div><input type="range" id="a-ProgP" min="0" max="80" value="35"></div>
            <div class="metric-group"><div class="metric-label">npxGA <span class="val" id="a-v6">1.2</span></div><input type="range" id="a-npxGA" min="0" max="4" step="0.1" value="1.2"></div>
            <div class="metric-group"><div class="metric-label">PPDA <span class="val" id="a-v7">12.0</span></div><input type="range" id="a-PPDA" min="5" max="25" step="0.5" value="12"></div>
            <div class="metric-group"><div class="metric-label">OPP.B <span class="val" id="a-v8">10</span></div><input type="range" id="a-OPPB" min="0" max="40" value="10"></div>
            <div class="metric-group"><div class="metric-label">Deep A. <span class="val" id="a-v9">5</span></div><input type="range" id="a-DeepA" min="0" max="20" value="5"></div>
            <div class="metric-group"><div class="metric-label">Interceptions <span class="val" id="a-v10">15</span></div><input type="range" id="a-Int" min="0" max="40" value="15"></div>
        </div>
    </div>

    <div class="controls">
        <button class="btn-analyze" onclick="analizEt()">STRATEJÄ°YÄ° Ã‡ARPIÅTIR</button>
        <button class="btn-reset" onclick="formuTemizle()">SIFRLA</button>
    </div>

    <div class="result-panel" id="result-panel">
        <h2 id="match-header">EV vs DEPLASMAN</h2>
        <div style="font-size: 60px; font-weight: bold; color: var(--accent);" id="final-score">0.00 - 0.00</div>
        <div class="coach-box" id="coach-box"></div>
    </div>

    <div class="history-section">
        <h3>ğŸ“ Analiz KayÄ±tlarÄ±</h3>
        <table id="history-table">
            <thead><tr><th>MaÃ§</th><th>Tahmin</th><th>BaÅŸ AntrenÃ¶r Notu</th></tr></thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<script>
    // Dinamik DeÄŸer GÃ¶sterimi
    document.querySelectorAll('input[type="range"]').forEach(slider => {
        slider.addEventListener('input', (e) => {
            e.target.previousElementSibling.querySelector('.val').innerText = e.target.value;
        });
    });

    function analizEt() {
        const getData = (p) => ({
            name: document.getElementById(`${p}-name`).value || (p === 'h' ? 'Ev Sahibi' : 'Deplasman'),
            npxG: parseFloat(document.getElementById(`${p}-npxG`).value),
            sca: parseFloat(document.getElementById(`${p}-SCA`).value),
            box: parseFloat(document.getElementById(`${p}-BOX`).value),
            tilt: parseFloat(document.getElementById(`${p}-Tilt`).value),
            progP: parseFloat(document.getElementById(`${p}-ProgP`).value),
            npxGA: parseFloat(document.getElementById(`${p}-npxGA`).value),
            ppda: parseFloat(document.getElementById(`${p}-PPDA`).value),
            oppb: parseFloat(document.getElementById(`${p}-OPPB`).value),
            deepA: parseFloat(document.getElementById(`${p}-DeepA`).value),
            int: parseFloat(document.getElementById(`${p}-Int`).value)
        });

        const h = getData('h'); const a = getData('a');

        // Ã‡ARPIÅTIRMA MOTORU (Optimize EdilmiÅŸ)
        let h_score = (h.npxG * 1.15) * (a.npxGA / 1.2); 
        let a_score = (a.npxG * 0.85) * (h.npxGA / 1.2);

        // PekiÅŸtirme: A'nÄ±n hÃ¼cumu iyi, B'nin savunmasÄ± kÃ¶tÃ¼yse (DediÄŸin Senaryo)
        if(h.npxG > 2 && a.npxGA > 2) h_score *= 1.25;
        if(a.npxG > 2 && h.npxGA > 2) a_score *= 1.25;

        // AntrenÃ¶r Yorum MantÄ±ÄŸÄ±
        let coachMsg = "";
        if(h.tilt > 60 && a.deepA > 10) {
            coachMsg = "<b>Hocam Analizim Åudur:</b> Rakibi sahasÄ±na hapsettik (High Tilt). Rakip savunma arkasÄ±na sÄ±zmalara (Deep A.) Ã§ok mÃ¼sait. Dikine paslarla (ProgP) fiÅŸi Ã§ekebiliriz. Ancak kontra ataÄŸa dikkat!";
        } else if (a.npxG > h.npxG && a.tilt < 45) {
            coachMsg = "<b>Taktiksel UyarÄ±:</b> Deplasman takÄ±mÄ± tam bir 'pusu' futbolu oynuyor. Topu bize bÄ±raktÄ±lar ama bitiricilikleri (npxG) Ã§ok keskin. Savunma gÃ¼venliÄŸini elden bÄ±rakmamalÄ±yÄ±z.";
        } else {
            coachMsg = "<b>MaÃ§ Dengede:</b> Ä°ki takÄ±m da birbirini kilitliyor. PPDA deÄŸerleri yoÄŸun presi gÃ¶steriyor. Duran top veya bir yerleÅŸim hatasÄ± tabelayÄ± deÄŸiÅŸtirir.";
        }

        // SonuÃ§larÄ± YansÄ±t
        document.getElementById('result-panel').style.display = 'block';
        document.getElementById('match-header').innerText = `${h.name} vs ${a.name}`;
        document.getElementById('final-score').innerText = `${h_score.toFixed(2)} - ${a_score.toFixed(2)}`;
        document.getElementById('coach-box').innerHTML = coachMsg;

        // GeÃ§miÅŸe Ekle
        const newRow = `<tr><td>${h.name} vs ${a.name}</td><td><b>${h_score.toFixed(2)} - ${a_score.toFixed(2)}</b></td><td><small>${coachMsg}</small></td></tr>`;
        document.querySelector('#history-table tbody').insertAdjacentHTML('afterbegin', newRow);
    }

    function formuTemizle() {
        location.reload(); // En temiz sÄ±fÄ±rlama yÃ¶ntemi
    }
</script>
</body>
</html>

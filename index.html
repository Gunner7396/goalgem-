<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Pro Analiz Motoru v1.0</title>
    <style>
        :root {
            --primary: #2c3e50; --accent: #e74c3c; --success: #27ae60; --bg: #f4f7f6;
        }
        body { font-family: 'Segoe UI', sans-serif; background: var(--bg); margin: 0; padding: 20px; }
        .container { max-width: 1200px; margin: auto; display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
        .card { background: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        h2 { border-bottom: 2px solid #eee; padding-bottom: 10px; color: var(--primary); }
        .metric-group { margin-bottom: 15px; }
        .metric-label { display: flex; justify-content: space-between; font-weight: bold; margin-bottom: 5px; font-size: 14px; }
        input[type="range"] { width: 100%; cursor: pointer; accent-color: var(--primary); }
        .controls { grid-column: 1 / -1; display: flex; gap: 10px; justify-content: center; margin: 20px 0; }
        button { padding: 12px 25px; border: none; border-radius: 6px; cursor: pointer; font-weight: bold; transition: 0.3s; }
        .btn-analyze { background: var(--success); color: white; }
        .btn-reset { background: var(--accent); color: white; }
        .result-panel { grid-column: 1 / -1; background: #2c3e50; color: white; padding: 25px; border-radius: 12px; text-align: center; }
        .coach-comment { font-style: italic; color: #bdc3c7; margin-top: 15px; border-left: 4px solid var(--accent); padding-left: 15px; text-align: left; }
        .history { grid-column: 1 / -1; margin-top: 20px; }
        table { width: 100%; border-collapse: collapse; background: white; border-radius: 8px; overflow: hidden; }
        th, td { padding: 12px; text-align: left; border-bottom: 1px solid #eee; }
        th { background: #eee; }
        .badge { padding: 4px 8px; border-radius: 4px; font-size: 12px; }
        .home-badge { background: #d1ecf1; color: #0c5460; }
    </style>
</head>
<body>

<h1 style="text-align:center; color: var(--primary);">âš½ STRATEJÄ°K ANALÄ°Z MOTORU</h1>

<div class="container">
    <div class="card" id="home-team">
        <h2>ğŸ  EV SAHÄ°BÄ°</h2>
        <input type="text" id="h-name" placeholder="TakÄ±m AdÄ±" style="width:100%; padding:8px; margin-bottom:15px; border:1px solid #ddd;">
        
        <div class="metric-group">
            <div class="metric-label"><span>npxG (Gol Beklentisi)</span><span id="h-v1">1.50</span></div>
            <input type="range" id="h-npxG" min="0" max="4" step="0.1" value="1.5">
        </div>
        <div class="metric-group">
            <div class="metric-label"><span>SCA (Åut Yaratan Aksiyon)</span><span id="h-v2">15</span></div>
            <input type="range" id="h-SCA" min="0" max="40" value="15">
        </div>
        <div class="metric-group">
            <div class="metric-label"><span>BOX (C.Saha EtkinliÄŸi)</span><span id="h-v3">20</span></div>
            <input type="range" id="h-BOX" min="0" max="50" value="20">
        </div>
        <div class="metric-group">
            <div class="metric-label"><span>Field Tilt (Hakimiyet %)</span><span id="h-v4">50</span></div>
            <input type="range" id="h-Tilt" min="0" max="100" value="50">
        </div>
        <div class="metric-group">
            <div class="metric-label"><span>npxGA (Savunma ZaafÄ±)</span><span id="h-v5">1.20</span></div>
            <input type="range" id="h-npxGA" min="0" max="4" step="0.1" value="1.2">
        </div>
    </div>

    <div class="card" id="away-team">
        <h2>âœˆï¸ DEPLASMAN</h2>
        <input type="text" id="a-name" placeholder="TakÄ±m AdÄ±" style="width:100%; padding:8px; margin-bottom:15px; border:1px solid #ddd;">
        
        <div class="metric-group">
            <div class="metric-label"><span>npxG (Gol Beklentisi)</span><span id="a-v1">1.50</span></div>
            <input type="range" id="a-npxG" min="0" max="4" step="0.1" value="1.5">
        </div>
        <div class="metric-group">
            <div class="metric-label"><span>SCA (Åut Yaratan Aksiyon)</span><span id="a-v2">15</span></div>
            <input type="range" id="a-SCA" min="0" max="40" value="15">
        </div>
        <div class="metric-group">
            <div class="metric-label"><span>BOX (C.Saha EtkinliÄŸi)</span><span id="a-v3">20</span></div>
            <input type="range" id="a-BOX" min="0" max="50" value="20">
        </div>
        <div class="metric-group">
            <div class="metric-label"><span>Field Tilt (Hakimiyet %)</span><span id="a-v4">50</span></div>
            <input type="range" id="a-Tilt" min="0" max="100" value="50">
        </div>
        <div class="metric-group">
            <div class="metric-label"><span>npxGA (Savunma ZaafÄ±)</span><span id="a-v5">1.20</span></div>
            <input type="range" id="a-npxGA" min="0" max="4" step="0.1" value="1.2">
        </div>
    </div>

    <div class="controls">
        <button class="btn-analyze" onclick="analizEt()">MAÃ‡I ANALÄ°Z ET</button>
        <button class="btn-reset" onclick="formuTemizle()">SIFIRLA</button>
    </div>

    <div class="result-panel" id="result-area" style="display:none;">
        <h3 id="match-title">A vs B</h3>
        <h1 id="score-prediction" style="font-size: 48px; margin: 10px 0;">0.0 - 0.0</h1>
        <div class="coach-comment" id="coach-comment">Hocam, analiz verileri iÅŸleniyor...</div>
    </div>

    <div class="history">
        <h3>ğŸ“Š Analiz GeÃ§miÅŸi</h3>
        <table id="history-table">
            <thead>
                <tr><th>MaÃ§</th><th>Skor Tahmini</th><th>AntrenÃ¶r Notu</th></tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
</div>

<script>
    // Slider deÄŸerlerini anlÄ±k gÃ¶ster
    document.querySelectorAll('input[type="range"]').forEach(input => {
        input.addEventListener('input', (e) => {
            const spanId = e.target.id.replace('h-', 'h-v').replace('a-', 'a-v');
            // ID eÅŸleÅŸtirme mantÄ±ÄŸÄ± dÃ¼zeltme:
            const span = e.target.previousElementSibling.querySelector('span:last-child');
            span.innerText = e.target.value;
        });
    });

    function analizEt() {
        // Verileri al
        const h = {
            name: document.getElementById('h-name').value || 'Ev Sahibi',
            npxG: parseFloat(document.getElementById('h-npxG').value),
            sca: parseFloat(document.getElementById('h-SCA').value),
            box: parseFloat(document.getElementById('h-BOX').value),
            tilt: parseFloat(document.getElementById('h-Tilt').value),
            npxGA: parseFloat(document.getElementById('h-npxGA').value)
        };

        const a = {
            name: document.getElementById('a-name').value || 'Deplasman',
            npxG: parseFloat(document.getElementById('a-npxG').value),
            sca: parseFloat(document.getElementById('a-SCA').value),
            box: parseFloat(document.getElementById('a-BOX').value),
            tilt: parseFloat(document.getElementById('a-Tilt').value),
            npxGA: parseFloat(document.getElementById('a-npxGA').value)
        };

        // 1. Ã‡ARPIÅTIRMA VE H/A KATSAYILARI
        // Ev sahibi bonusu (1.1), Deplasman zorluÄŸu (0.9)
        let homeExp = (h.npxG * 1.1) * (a.npxGA / 1.2); 
        let awayExp = (a.npxG * 0.9) * (h.npxGA / 1.2);

        // npxG vs npxGA PekiÅŸtirme (DediÄŸin Senaryo)
        if(h.npxG > 2.0 && a.npxGA > 2.0) homeExp *= 1.2;
        if(a.npxG > 2.0 && h.npxGA > 2.0) awayExp *= 1.2;

        const s1 = homeExp.toFixed(2);
        const s2 = awayExp.toFixed(2);

        // 2. ANTRENÃ–R YORUMU
        let yorum = "";
        if (h.tilt > 60 && a.npxGA > 1.5) {
            yorum = "Hocam, sahayÄ± dar ettik. Rakip savunma yerleÅŸimi npxGA verilerinde olduÄŸu gibi Ã§ok daÄŸÄ±nÄ±k. SÃ¼rekli ceza sahasÄ±na (BOX) giriyoruz, fiÅŸi erken Ã§ekebiliriz.";
        } else if (a.tilt < 40 && a.npxG > 1.5) {
            yorum = "Dikkat hocam! Rakip topu bize bÄ±raktÄ± ama kontra ataklarÄ± (ProgP) Ã§ok tehlikeli. Az gelip Ã¶z vuruyorlar, savunma arkasÄ±na sÄ±zmalara Ã¶nlem almalÄ±yÄ±z.";
        } else {
            yorum = "Orta saha mÃ¼cadelesine dÃ¶nen bir maÃ§. Kim daha az hata yaparsa o kazanÄ±r, veriler Ã§ok yakÄ±n.";
        }

        // SONUCU GÃ–STER
        document.getElementById('result-area').style.display = 'block';
        document.getElementById('match-title').innerText = `${h.name} vs ${a.name}`;
        document.getElementById('score-prediction').innerText = `${s1} - ${s2}`;
        document.getElementById('coach-comment').innerText = yorum;

        // GEÃ‡MÄ°ÅE KAYDET
        const row = `<tr><td>${h.name} - ${a.name}</td><td><b>${s1} - ${s2}</b></td><td><small>${yorum}</small></td></tr>`;
        document.querySelector('#history-table tbody').insertAdjacentHTML('afterbegin', row);
    }

    function formuTemizle() {
        document.querySelectorAll('input[type="range"]').forEach(i => i.value = i.getAttribute('value'));
        document.querySelectorAll('.metric-label span:last-child').forEach(s => s.innerText = "-");
        document.getElementById('h-name').value = "";
        document.getElementById('a-name').value = "";
        document.getElementById('result-area').style.display = 'none';
    }
</script>
</body>
</html>

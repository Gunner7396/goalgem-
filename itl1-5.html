<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Gemini | Italia Analytics</title>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg: #0b0e14;
            --accent: #00d2ff;
            --secondary: #3a7bd5;
            --card: rgba(255, 255, 255, 0.05);
            --border: rgba(255, 255, 255, 0.1);
            --success: #00ffa3;
            --warning: #ffb800;
            --danger: #ff4b4b;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: radial-gradient(circle at top right, #1e293b, #0b0e14);
            color: white;
            margin: 0;
            display: flex;
            justify-content: center;
            min-height: 100vh;
        }

        .app-container {
            width: 100%;
            max-width: 430px; /* iPhone 15 Pro Max Genişliği */
            padding: 24px;
            padding-bottom: 100px;
        }

        header {
            text-align: left;
            margin-bottom: 32px;
            margin-top: 20px;
        }

        header h1 { font-size: 28px; margin: 0; font-weight: 800; background: linear-gradient(to right, #fff, #94a3b8); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        header p { color: #94a3b8; font-size: 14px; margin-top: 4px; }

        .input-card {
            background: var(--card);
            backdrop-filter: blur(10px);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 24px;
            margin-bottom: 20px;
        }

        .input-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
        }

        .field { display: flex; flex-direction: column; margin-bottom: 16px; }
        .field label { font-size: 11px; font-weight: 600; text-transform: uppercase; color: #64748b; margin-bottom: 8px; letter-spacing: 0.5px; }
        
        input {
            background: rgba(0,0,0,0.2);
            border: 1px solid var(--border);
            border-radius: 14px;
            padding: 14px;
            color: white;
            font-size: 16px;
            font-weight: 600;
            transition: 0.3s;
        }

        input:focus { outline: none; border-color: var(--accent); background: rgba(0,210,255,0.05); }

        .analyze-btn {
            background: linear-gradient(135deg, var(--secondary), var(--accent));
            color: #000;
            border: none;
            width: 100%;
            padding: 18px;
            border-radius: 18px;
            font-size: 16px;
            font-weight: 800;
            cursor: pointer;
            box-shadow: 0 10px 25px -5px rgba(0, 210, 255, 0.3);
            transition: 0.3s;
        }

        .analyze-btn:active { transform: scale(0.96); opacity: 0.9; }

        #resultArea {
            display: none;
            margin-top: 24px;
            animation: slideUp 0.5s ease-out;
        }

        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .score-card {
            background: linear-gradient(180deg, rgba(255,255,255,0.08) 0%, rgba(255,255,255,0) 100%);
            border-radius: 24px;
            padding: 30px;
            text-align: center;
            border: 1px solid var(--border);
        }

        .percentage { font-size: 56px; font-weight: 800; margin: 0; line-height: 1; color: var(--accent); }
        .status-badge { display: inline-block; padding: 6px 14px; border-radius: 100px; font-size: 12px; font-weight: 700; margin-top: 15px; }

        .analysis-text {
            color: #cbd5e1;
            font-size: 14px;
            line-height: 1.6;
            margin-top: 20px;
            text-align: left;
            padding: 15px;
            background: rgba(0,0,0,0.2);
            border-radius: 14px;
        }

        .metric-badge {
            background: rgba(255, 43, 43, 0.1);
            color: var(--danger);
            padding: 2px 6px;
            border-radius: 4px;
            font-size: 12px;
            margin-right: 4px;
        }
    </style>
</head>
<body>

<div class="app-container">
    <header>
        <h1>Italia Intelligence</h1>
        <p>1.5 Alt Durgunluk Analiz Motoru</p>
    </header>

    <div class="input-card">
        <div class="input-grid">
            <div class="field">
                <label>npxG/Sh</label>
                <input type="number" id="npxg" step="0.01" placeholder="0.07">
            </div>
            <div class="field">
                <label>Field Tilt %</label>
                <input type="number" id="tilt" placeholder="52">
            </div>
            <div class="field">
                <label>PPA</label>
                <input type="number" id="ppa" placeholder="6">
            </div>
            <div class="field">
                <label>Mid-Tkl</label>
                <input type="number" id="tkl" placeholder="28">
            </div>
            <div class="field">
                <label>PrgC</label>
                <input type="number" id="prgc" placeholder="12">
            </div>
            <div class="field">
                <label>Set-Piece xG</label>
                <input type="number" id="setp" step="0.01" placeholder="0.02">
            </div>
        </div>
        <button class="analyze-btn" onclick="runAnalysis()">ANALİZ ET</button>
    </div>

    <div id="resultArea">
        <div class="score-card">
            <p style="font-size: 12px; color: #94a3b8; margin-bottom: 10px; font-weight: 600;">DURGUNLUK GÜVEN SKORU</p>
            <h2 class="percentage" id="scorePct">0%</h2>
            <div id="status" class="status-badge">BELİRSİZ</div>
            <div class="analysis-text" id="analysisDesc"></div>
        </div>
    </div>
</div>

<script>
    function runAnalysis() {
        const v = {
            npxg: parseFloat(document.getElementById('npxg').value || 0),
            tilt: parseFloat(document.getElementById('tilt').value || 0),
            ppa: parseFloat(document.getElementById('ppa').value || 0),
            tkl: parseFloat(document.getElementById('tkl').value || 0),
            prgc: parseFloat(document.getElementById('prgc').value || 0),
            setp: parseFloat(document.getElementById('setp').value || 0)
        };

        let score = 0;
        let warnings = [];

        if(v.npxg <= 0.08) score += 25; else warnings.push("Yüksek Bitiricilik");
        if(v.tilt <= 60) score += 15; else warnings.push("Aşırı Baskı");
        if(v.ppa <= 10) score += 20; else warnings.push("Ceza Sahası Sızma");
        if(v.tkl >= 20) score += 15; else warnings.push("Zayıf Defans");
        if(v.prgc <= 15) score += 15; else warnings.push("Yüksek Tempo");
        if(v.setp <= 0.04) score += 10; else warnings.push("Duran Top Riski");

        document.getElementById('resultArea').style.display = 'block';
        document.getElementById('scorePct').innerText = score + "%";
        
        const status = document.getElementById('status');
        const desc = document.getElementById('analysisDesc');

        if(score >= 80) {
            status.innerText = "BETON KİLİT";
            status.style.background = "rgba(0, 255, 163, 0.1)";
            status.style.color = "var(--success)";
            desc.innerHTML = "Maç İtalyan karakterine tam uyumlu. Oyun durgunluğa hapsolmuş durumda. Erken gol olsa dahi sistemin kilitlenmesi beklenir.";
            confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 }, colors: ['#00d2ff', '#00ffa3'] });
        } else if(score >= 50) {
            status.innerText = "DURGUN AMA RİSKLİ";
            status.style.background = "rgba(255, 184, 0, 0.1)";
            status.style.color = "var(--warning)";
            desc.innerHTML = "Oyun durgun ancak <br>" + warnings.map(w => `<span class="metric-badge">${w}</span>`).join(' ') + " nedeniyle kilit her an esneyebilir.";
        } else {
            status.innerText = "HAREKETLİ OYUN";
            status.style.background = "rgba(255, 75, 75, 0.1)";
            status.style.color = "var(--danger)";
            desc.innerHTML = "Sistem bu maçı 1.5 Alt için uygun görmüyor. " + warnings.join(", ") + " potansiyeli çok yüksek.";
        }
    }
</script>

</body>
</html>

<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <title>Kuantum 1.5 Alt Analiz Paneli v2.0</title>
    <style>
        :root { --bg: #0f172a; --card: #1e293b; --accent: #38bdf8; --text: #f1f5f9; --danger: #ef4444; --success: #22c55e; --warning: #f59e0b; }
        body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; background: var(--bg); color: var(--text); padding: 20px; display: flex; justify-content: center; }
        .container { width: 950px; background: var(--card); padding: 30px; border-radius: 20px; box-shadow: 0 15px 35px rgba(0,0,0,0.6); }
        h1 { text-align: center; color: var(--accent); margin-bottom: 5px; font-size: 2em; }
        .subtitle { text-align: center; opacity: 0.6; margin-bottom: 30px; }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 25px; }
        .full-width { grid-column: span 2; }
        .team-box { background: #1a2233; border: 1px solid #334155; padding: 20px; border-radius: 12px; }
        h3 { border-bottom: 2px solid var(--accent); padding-bottom: 10px; margin-top: 0; }
        label { display: block; font-size: 0.85em; font-weight: bold; margin-bottom: 5px; color: var(--accent); }
        select, input { width: 100%; padding: 12px; background: #0f172a; border: 1px solid #334155; color: white; border-radius: 8px; margin-bottom: 15px; box-sizing: border-box; }
        .btn { width: 100%; padding: 18px; background: var(--accent); color: #0f172a; border: none; font-weight: bold; cursor: pointer; border-radius: 8px; font-size: 1.2em; transition: 0.3s; }
        .btn:hover { background: #0ea5e9; transform: translateY(-2px); }
        #result { margin-top: 30px; padding: 25px; border-radius: 12px; display: none; background: #1e293b; border: 2px solid #334155; }
        .gauge-area { text-align: center; margin-bottom: 20px; }
        .score { font-size: 4em; font-weight: 900; line-height: 1; }
        .league-badge { display: inline-block; padding: 5px 15px; background: #334155; border-radius: 20px; font-size: 0.9em; margin-bottom: 10px; }
        .detail-item { padding: 8px 0; border-bottom: 1px solid #334155; font-size: 0.95em; }
        .status-success { color: var(--success); }
        .status-warning { color: var(--warning); }
        .status-danger { color: var(--danger); }
        .checkbox-group { display: flex; align-items: center; gap: 10px; font-size: 0.9em; }
        input[type="checkbox"] { width: auto; margin: 0; }
    </style>
</head>
<body>

<div class="container">
    <h1>Kuantum 1.5 Alt AnalizÃ¶rÃ¼</h1>
    <p class="subtitle">Dinamik Lig EÅŸikleri & Derin Blok KorumalÄ± AkÄ±llÄ± Model</p>

    <div class="grid">
        <div class="full-width">
            <label>Lig Analiz Modu</label>
            <select id="league">
                <option value="ita">Ä°talya Serie A (Savunma Disiplini OdaklÄ±)</option>
                <option value="esp">Ä°spanya La Liga (Pas TrafiÄŸi & SÄ±zma OdaklÄ±)</option>
                <option value="fra">Fransa Ligue 1 (Fiziksel DirenÃ§ OdaklÄ±)</option>
                <option value="eng">Ä°ngiltere Premier League (HÄ±zlÄ± GeÃ§iÅŸ & Kaos OdaklÄ±)</option>
                <option value="ger">Almanya Bundesliga (YÃ¼ksek Bitiricilik ToleransÄ±)</option>
            </select>
        </div>

        <div class="team-box">
            <h3>Ev Sahibi</h3>
            <label>npxG / Sh (Åut Kalitesi)</label>
            <input type="number" id="a_npxg" step="0.001" placeholder="Ã–rn: 0.075">
            <label>PPA (Ceza SahasÄ±na SÄ±zma PasÄ±)</label>
            <input type="number" id="a_ppa" step="0.1" placeholder="Ã–rn: 7.2">
            <label>Mid-Tkl (Orta Saha Direnci)</label>
            <input type="number" id="a_tkl" step="1" placeholder="Ã–rn: 24">
            <label>PrgC (Top TaÅŸÄ±ma Temposu)</label>
            <input type="number" id="a_prgc" step="1" placeholder="Ã–rn: 11">
            <div class="checkbox-group">
                <input type="checkbox" id="a_sp"> <label>Duran Top UzmanÄ± mÄ±?</label>
            </div>
        </div>

        <div class="team-box">
            <h3>Deplasman</h3>
            <label>npxG / Sh (Åut Kalitesi)</label>
            <input type="number" id="b_npxg" step="0.001" placeholder="Ã–rn: 0.082">
            <label>PPA (Ceza SahasÄ±na SÄ±zma PasÄ±)</label>
            <input type="number" id="b_ppa" step="0.1" placeholder="Ã–rn: 6.8">
            <label>Mid-Tkl (Orta Saha Direnci)</label>
            <input type="number" id="b_tkl" step="1" placeholder="Ã–rn: 22">
            <label>PrgC (Top TaÅŸÄ±ma Temposu)</label>
            <input type="number" id="b_prgc" step="1" placeholder="Ã–rn: 13">
            <div class="checkbox-group">
                <input type="checkbox" id="b_bad_sp"> <label>Duran Top SavunmasÄ± ZayÄ±f mÄ±?</label>
            </div>
        </div>

        <div class="full-width team-box" style="text-align: center;">
            <label>Field Tilt (Topun OynandÄ±ÄŸÄ± BÃ¶lge %)</label>
            <input type="number" id="tilt" value="50" style="width: 150px; font-size: 1.5em; text-align: center;">
            <p style="font-size: 0.8em; opacity: 0.6;">(%50 = Tam Denge | %70 = Ezici BaskÄ±)</p>
        </div>

        <button class="btn" onclick="analizEt()">STRATEJÄ°K ANALÄ°ZÄ° Ã‡ALIÅTIR</button>

        <div id="result" class="full-width">
            <div class="gauge-area">
                <div id="res_league" class="league-badge"></div>
                <div id="res_score" class="score">0%</div>
                <div id="res_label" style="font-weight: bold; margin-top: 10px;">BETONLUK SKORU</div>
            </div>
            <div id="res_details"></div>
        </div>
    </div>
</div>

<script>
const configs = {
    ita: { name: "Ä°talya Serie A", npxg: 0.08, ppa: 8.0, tkl: 22, prgc: 12 },
    esp: { name: "Ä°spanya La Liga", npxg: 0.08, ppa: 7.5, tkl: 24, prgc: 11 },
    fra: { name: "Fransa Ligue 1", npxg: 0.08, ppa: 7.5, tkl: 25, prgc: 12 },
    eng: { name: "Ä°ngiltere Premier League", npxg: 0.075, ppa: 8.5, tkl: 28, prgc: 14 },
    ger: { name: "Almanya Bundesliga", npxg: 0.07, ppa: 6.5, tkl: 30, prgc: 10 }
};

function analizEt() {
    const lKey = document.getElementById('league').value;
    const cfg = configs[lKey];
    
    const A = { npxg: Number(document.getElementById('a_npxg').value), ppa: Number(document.getElementById('a_ppa').value), tkl: Number(document.getElementById('a_tkl').value), prgc: Number(document.getElementById('a_prgc').value), sp: document.getElementById('a_sp').checked };
    const B = { npxg: Number(document.getElementById('b_npxg').value), ppa: Number(document.getElementById('b_ppa').value), tkl: Number(document.getElementById('b_tkl').value), prgc: Number(document.getElementById('b_prgc').value), bad_sp: document.getElementById('b_bad_sp').checked };
    const tilt = Number(document.getElementById('tilt').value);

    let score = 0;
    let logs = [];

    // 1. Bitiricilik (npxG) - Maks 30
    if (A.npxg <= cfg.npxg && B.npxg <= cfg.npxg) { score += 30; logs.push("<span class='status-success'>âœ“ Ä°ki takÄ±m da lig kÄ±sÄ±rlÄ±k eÅŸiÄŸinin altÄ±nda.</span>"); }
    else if (A.npxg <= cfg.npxg || B.npxg <= cfg.npxg) { score += 15; logs.push("<span class='status-warning'>âš  TakÄ±mlardan biri bitiricilikte riskli.</span>"); }

    // 2. SÄ±zma vs DirenÃ§ (PPA vs Mid-Tkl) - Maks 25
    const avgPPA = (A.ppa + B.ppa) / 2;
    const avgTkl = (A.tkl + B.tkl) / 2;
    if (avgPPA <= cfg.ppa && avgTkl >= (cfg.tkl * 0.9)) { score += 25; logs.push("<span class='status-success'>âœ“ SÄ±zma paslarÄ± dÃ¼ÅŸÃ¼k, direnÃ§ yeterli.</span>"); }
    else { logs.push("<span class='status-danger'>âœ– Savunma bloklarÄ± arasÄ± sÄ±zma riski yÃ¼ksek.</span>"); }

    // 3. Tempo (PrgC) - Maks 20
    if (A.prgc <= cfg.prgc && B.prgc <= cfg.prgc) { score += 20; logs.push("<span class='status-success'>âœ“ MaÃ§ temposu kilitlenmeye uygun (DÃ¼ÅŸÃ¼k PrgC).</span>"); }

    // 4. AkÄ±llÄ± Field Tilt & Derin Blok Filtresi - Maks 25
    if (tilt >= 44 && tilt <= 56) {
        score += 25;
        logs.push("<span class='status-success'>âœ“ Saha dengesi ideal (%50 civarÄ±).</span>");
    } else if ((tilt > 65 || tilt < 35) && avgPPA <= cfg.ppa) {
        score += 20;
        logs.push("<span class='status-warning'>ğŸ›¡ï¸ Derin Blok SaptandÄ±: YÃ¼ksek baskÄ±ya raÄŸmen sÄ±zma yok. (GÃ¼venli)</span>");
    } else if (tilt > 65 || tilt < 35) {
        score -= 15;
        logs.push("<span class='status-danger'>âœ– Tehlikeli Alan Hakimiyeti: Bir takÄ±m kaleyi ablukaya almÄ±ÅŸ!</span>");
    }

    // 5. Duran Top SabotajÄ±
    if (A.sp && B.bad_sp) { score -= 30; logs.push("<span class='status-danger'>ğŸš© SABOTAJ RÄ°SKÄ°: Duran top uzmanÄ± vs ZayÄ±f savunma!</span>"); }

    // Ã‡IKTI
    score = Math.max(0, Math.min(100, score));
    document.getElementById('result').style.display = "block";
    document.getElementById('res_league').innerText = "Analiz Edilen Lig: " + cfg.name;
    const sEl = document.getElementById('res_score');
    sEl.innerText = "%" + score;
    sEl.className = "score " + (score > 75 ? "status-success" : (score > 50 ? "status-warning" : "status-danger"));
    document.getElementById('res_details').innerHTML = logs.map(l => `<div class='detail-item'>${l}</div>`).join('');
    
    window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
}
</script>

</body>
</html>

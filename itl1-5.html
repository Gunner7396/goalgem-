<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kuantum Ekspres v4.1</title>
    <style>
        :root { --bg: #0b0f1a; --card: #161b2a; --accent: #38bdf8; --text: #e2e8f0; --danger: #ef4444; --success: #22c55e; }
        body { font-family: sans-serif; background: var(--bg); color: var(--text); padding: 10px; display: flex; justify-content: center; }
        .container { width: 100%; max-width: 500px; background: var(--card); padding: 20px; border-radius: 15px; box-shadow: 0 10px 30px rgba(0,0,0,0.5); }
        .grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
        .full { grid-column: span 2; }
        h3 { margin: 5px 0; font-size: 0.8rem; color: var(--accent); text-align: center; border-bottom: 1px solid #2d3748; padding-bottom: 5px; }
        label { display: block; font-size: 0.65rem; margin-top: 5px; opacity: 0.7; }
        input, select { width: 100%; padding: 8px; background: #1a202e; border: 1px solid #2d3748; color: #fff; border-radius: 5px; font-size: 0.9rem; }
        .btn { width: 100%; padding: 15px; background: var(--accent); border: none; font-weight: bold; border-radius: 6px; cursor: pointer; margin-top: 15px; color: #0b0f1a; font-size: 1rem; }
        #result { margin-top: 15px; padding: 15px; background: #0f172a; border-radius: 8px; display: none; border: 1px solid var(--accent); }
        .score-box { text-align: center; font-size: 3rem; font-weight: 800; }
        .scroll-area { max-height: 100px; overflow-y: auto; font-size: 0.75rem; margin-top: 10px; border-top: 1px solid #2d3748; padding-top: 5px; }
    </style>
</head>
<body>

<div class="container">
    <select id="league" style="margin-bottom: 15px;">
        <option value="ita">ðŸ‡®ðŸ‡¹ Ä°talya Serie A</option>
        <option value="esp">ðŸ‡ªðŸ‡¸ Ä°spanya La Liga</option>
        <option value="fra">ðŸ‡«ðŸ‡· Fransa Ligue 1</option>
        <option value="eng">ðŸ‡¬ðŸ‡§ Ä°ngiltere Premier League</option>
        <option value="ger">ðŸ‡©ðŸ‡ª Almanya Bundesliga</option>
    </select>

    <div class="grid">
        <div class="team-box">
            <h3>EV SAHÄ°BÄ°</h3>
            <label>npxG/Sh</label><input type="number" id="a_npxg" inputmode="decimal" placeholder="0.08">
            <label>PPA</label><input type="number" id="a_ppa" inputmode="decimal" placeholder="7.5">
            <label>Duran Top (Atma)</label><input type="number" id="a_spA" inputmode="decimal" value="0.25">
        </div>
        <div class="team-box">
            <h3>DEPLASMAN</h3>
            <label>npxG/Sh</label><input type="number" id="b_npxg" inputmode="decimal" placeholder="0.08">
            <label>PPA</label><input type="number" id="b_ppa" inputmode="decimal" placeholder="7.5">
            <label>Duran Top (Yeme)</label><input type="number" id="b_spY" inputmode="decimal" value="0.25">
        </div>
        
        <div class="full">
            <label>Field Tilt % (BaskÄ± GÃ¼cÃ¼)</label>
            <input type="number" id="tilt" inputmode="decimal" value="50">
            <button class="btn" onclick="analizEt()">HIZLI ANALÄ°Z</button>
        </div>
    </div>

    <div id="result">
        <div id="res_league" style="font-size: 0.7rem; text-align: center; opacity: 0.6;"></div>
        <div id="res_score" class="score-box">%0</div>
        <div id="res_details" class="scroll-area"></div>
    </div>
</div>

<script>
const configs = {
    ita: { n: "Serie A", npxg: 0.08, ppa: 8.0, sp: 0.30 },
    esp: { n: "La Liga", npxg: 0.08, ppa: 7.5, sp: 0.28 },
    fra: { n: "Ligue 1", npxg: 0.08, ppa: 7.5, sp: 0.25 },
    eng: { n: "EPL", npxg: 0.075, ppa: 8.5, sp: 0.35 },
    ger: { n: "Bundesliga", npxg: 0.07, ppa: 6.5, sp: 0.32 }
};

function analizEt() {
    const cfg = configs[document.getElementById('league').value];
    const A = { n:Number(document.getElementById('a_npxg').value), p:Number(document.getElementById('a_ppa').value), s:Number(document.getElementById('a_spA').value) };
    const B = { n:Number(document.getElementById('b_npxg').value), p:Number(document.getElementById('b_ppa').value), s:Number(document.getElementById('b_spY').value) };
    const tilt = Number(document.getElementById('tilt').value);

    if(!A.n || !B.n) { alert("Verileri girin!"); return; }

    let score = 0; let logs = [];
    
    // Temel Filtreler
    if (A.n <= cfg.npxg && B.n <= cfg.npxg) { score += 40; logs.push("âœ“ npxG: KÄ±sÄ±rlÄ±k onayÄ±."); }
    if (((A.p + B.p)/2) <= cfg.ppa) { score += 30; logs.push("âœ“ PPA: SÄ±zma engelli."); }
    
    // Saha Hakimiyeti & Derin Blok
    if (tilt >= 44 && tilt <= 56) { score += 30; logs.push("âœ“ Tilt: Dengeli."); }
    else if ((tilt > 65 || tilt < 35) && ((A.p + B.p)/2) <= cfg.ppa) { score += 25; logs.push("ðŸ›¡ï¸ Derin Blok onayÄ±."); }
    else { score -= 15; logs.push("âœ– Riskli baskÄ±."); }

    // Ã‡akÄ±ÅŸma MantÄ±klÄ± Duran Top (Sadece uÃ§larda puan kÄ±rar)
    if (A.s > (cfg.sp * 1.4) && B.s > (cfg.sp * 1.4)) {
        score -= 25; logs.push("ðŸš© DURAN TOP SABOTAJI! (-25)");
    }

    score = Math.max(0, Math.min(100, score));
    document.getElementById('result').style.display = "block";
    document.getElementById('res_score').innerText = "%" + score;
    document.getElementById('res_score').style.color = score > 75 ? "#22c55e" : (score > 55 ? "#f59e0b" : "#ef4444");
    document.getElementById('res_details').innerHTML = logs.map(l => `<div>${l}</div>`).join('');
    localStorage.setItem('kuantum_fast', JSON.stringify({score, logs, n: cfg.n}));
}

window.onload = () => {
    const s = localStorage.getItem('kuantum_fast');
    if(s) { 
        const d = JSON.parse(s);
        document.getElementById('result').style.display = "block";
        document.getElementById('res_score').innerText = "%" + d.score;
        document.getElementById('res_details').innerHTML = d.logs.map(l => `<div>${l}</div>`).join('');
    }
};
</script>
</body>
</html>
